{"version":3,"sources":["containers/CartPage/components/CartItem/index.js","containers/CartPage/index.js"],"names":["CartItem","product","dispatch","useDispatch","useState","qty","setQuantity","disable","setDisable","className","src","productImage","img","alt","to","title","sale","size","onClick","action","actionUpdateCart","slug","then","catch","err","toast","error","position","POSITION","TOP_RIGHT","decrease","increase","actionRemoveCart","_id","success","onRemoveCart","ConvertVnd","price","CartPage","cart","useSelector","state","result","cartItems","map","index","totalPrice"],"mappings":"6MA4GeA,MArGf,YAAgC,IAAZC,EAAW,EAAXA,QACZC,EAAWC,cADY,EAEGC,mBAASH,EAAQI,KAFpB,mBAEZC,GAFY,aAGCF,oBAAS,GAHV,mBAGtBG,EAHsB,KAGbC,EAHa,KA4C7B,OACE,qBAAKC,UAAU,YAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,wCAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKC,IAAKT,EAAQU,aAAaC,IAAKC,IAAI,SAG5C,sBAAKJ,UAAU,uCAAf,UACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,IAAD,CAAMK,GAAG,IAAIL,UAAU,kBAAvB,SACGR,EAAQc,QAEX,oBAAGN,UAAU,kBAAb,oBACUR,EAAQe,KADlB,QAGA,oBAAGP,UAAU,kBAAb,oBACUR,EAAQgB,WAGpB,qBAAKR,UAAU,6BAAf,SACE,sBAAKA,UACHF,EAAU,8BACR,sBAFJ,UAIE,wBACEW,QAAS,kBAvDR,WACf,GAAIjB,EAAQI,IAAM,EAAG,CACnBG,GAAW,GACX,IAAMW,EAASC,YAAiBnB,EAAQI,IAAM,EAAGJ,EAAQgB,KAAMhB,EAAQoB,MACvEnB,EAASiB,GACNG,MAAK,WACJhB,EAAYL,EAAQI,IAAM,GAC1BG,GAAW,MAEZe,OAAM,SAACC,GACNhB,GAAW,WAIfiB,IAAMC,MAAM,sDAA2B,CACrCC,SAAUF,IAAMG,SAASC,YAwCAC,IADjB,gBAIA,+BAAO7B,EAAQI,MACf,wBACEa,QAAS,kBAxER,WACfV,GAAW,GACX,IAAMW,EAASC,YAAiBnB,EAAQI,IAAM,EAAGJ,EAAQgB,KAAMhB,EAAQoB,MACvEnB,EAASiB,GACNG,MAAK,WACJhB,EAAYL,EAAQI,IAAM,GAC1BG,GAAW,MAEZe,OAAM,SAACC,GACNhB,GAAW,MA+DcuB,IADjB,wBAON,sBAAKtB,UAAU,WAAf,UACE,qBAAKA,UAAU,6BAAf,SACE,sBAAKA,UAAU,oBAAoBS,QAAS,kBAjDnC,WACnB,IAAMC,EAASa,YAAiB/B,EAAQgC,KACxC/B,EAASiB,GACNG,MAAK,WACJG,IAAMS,QAAQ,6CAA2B,CACvCP,SAAUF,IAAMG,SAASC,eA4C6BM,IAAlD,UACE,mBAAG1B,UAAU,qBACb,+CAGJ,qBAAKA,UAAU,6BAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,+BAAO2B,YAAWnC,EAAQoC,yBCjB3BC,UA3EE,WACf,IAAMC,EAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,QAExC,OAAKA,GAAwB,IAAhBA,EAAKG,QAAgC,OAAhBH,EAAKG,OAarC,qBAAKjC,UAAU,OAAf,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,qBAAIA,UAAU,cAAd,kBACQ8B,EAAKG,OADb,aAGA,qBAAKjC,UAAU,YAAf,SAEI8B,EAAKI,UACHJ,EAAKI,UAAUC,KAAI,SAAC3C,EAAS4C,GAC3B,OACE,cAAC,EAAD,CAEE5C,QAASA,GADJ4C,MAKT,YAKZ,qBAAKpC,UAAU,oBAAf,SACE,sBAAKA,UAAU,aAAf,UACE,oBAAIA,UAAU,oBAAd,wCAGA,sBAAKA,UAAU,cAAf,UACE,sBAAMA,UAAU,qBAAhB,8BAGA,sBAAMA,UAAU,qBAAhB,SACG8B,EAAKO,YAAcV,YAAWG,EAAKO,iBAGxC,sBAAKrC,UAAU,cAAf,UACE,sBAAMA,UAAU,qBAAhB,yBAGA,sBAAMA,UAAU,qBAAhB,SACG2B,YAAW,UAGhB,qBAAK3B,UAAU,qBAAf,SACE,cAAC,IAAD,CAAMK,GAAG,sBAAT,2DA1DZ,qBAAKL,UAAU,OAAf,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,cAAd,sDACA,cAAC,IAAD,CAAMK,GAAG,WAAWL,UAAU,cAA9B","file":"static/js/10.3206340f.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport { actionRemoveCart, actionUpdateCart } from '../../../../actions/cartAction';\r\nimport ConvertVnd from '../../../../utils/convertVnd';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nfunction CartItem({ product }) {\r\n  const dispatch = useDispatch()\r\n  const [quantity, setQuantity] = useState(product.qty)\r\n  const [disable, setDisable] = useState(false)\r\n  const increase = () => {\r\n    setDisable(true)\r\n    const action = actionUpdateCart(product.qty + 1, product.size, product.slug)\r\n    dispatch(action)\r\n      .then(() => {\r\n        setQuantity(product.qty + 1)\r\n        setDisable(false)\r\n      })\r\n      .catch((err) => {\r\n        setDisable(false)\r\n      })\r\n  }\r\n  const decrease = () => {\r\n    if (product.qty > 1) {\r\n      setDisable(true)\r\n      const action = actionUpdateCart(product.qty - 1, product.size, product.slug)\r\n      dispatch(action)\r\n        .then(() => {\r\n          setQuantity(product.qty - 1)\r\n          setDisable(false)\r\n        })\r\n        .catch((err) => {\r\n          setDisable(false)\r\n        })\r\n    }\r\n    else {\r\n      toast.error(\"Không thể giảm số lượng\", {\r\n        position: toast.POSITION.TOP_RIGHT\r\n      })\r\n    }\r\n  }\r\n  const onRemoveCart = () => {\r\n    const action = actionRemoveCart(product._id)\r\n    dispatch(action)\r\n      .then(() => {\r\n        toast.success(\"Xóa sản phẩm thành công\", {\r\n          position: toast.POSITION.TOP_RIGHT\r\n        })\r\n      })\r\n  }\r\n  return (\r\n    <div className=\"cart-item\">\r\n      <div className=\"row\">\r\n        <div className=\"col-xl-3 col-lg-3  col-md-3 col-sm-8 \">\r\n          <div className=\"cart-item__img\">\r\n            <img src={product.productImage.img} alt=\"\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-xl-9 col-lg-9 col-md-9 col-sm-12\">\r\n          <div className=\"row\">\r\n            <div className=\"col-xl-6 col-lg-6\">\r\n              <Link to=\"/\" className=\"cart-item__name\">\r\n                {product.title}\r\n              </Link>\r\n              <p className=\"cart-item__size\">\r\n                Sale : {product.sale} %\r\n              </p>\r\n              <p className=\"cart-item__size\">\r\n                Size : {product.size}\r\n              </p>\r\n            </div>\r\n            <div className=\"col-xl-6 col-lg-6 col-sm-6\">\r\n              <div className={\r\n                disable ? \"cart-item__quantity disable\" :\r\n                  \"cart-item__quantity\"\r\n              }>\r\n                <button\r\n                  onClick={() => decrease()}\r\n                > -\r\n                </button>\r\n                <span>{product.qty}</span>\r\n                <button\r\n                  onClick={() => increase()}\r\n                > +\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row mt-2\">\r\n            <div className=\"col-xl-6 col-lg-6 col-sm-6\">\r\n              <div className=\"cart-item__remove\" onClick={() => onRemoveCart()}>\r\n                <i className=\"fas fa-trash-alt\"></i>\r\n                <span>Remove</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-xl-6 col-lg-6 col-sm-6\">\r\n              <div className=\"cart-item__price\">\r\n                <span>{ConvertVnd(product.price)}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CartItem\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport ConvertVnd from '../../utils/convertVnd'\r\nimport './CartPage.scss'\r\nimport CartItem from './components/CartItem'\r\nconst CartPage = () => {\r\n  const cart = useSelector(state => state.cart)\r\n\r\n  if (!cart || cart.result === 0 || cart.result === null) return (\r\n    <div className=\"cart\">\r\n      <div className=\"container\">\r\n        <div className=\"cart__heading\">\r\n          <h1 className=\"cart__empty\">Không có sản phẩm nào</h1>\r\n          <Link to=\"/boxshop\" className=\"cart-button\">\r\n            Tiếp tục mua sắm\r\n        </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n  return (\r\n    <div className=\"cart\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xl-8 col-lg-8\">\r\n            <div className=\"cart__content\">\r\n              <h2 className=\"cart__title\">\r\n                Cart({cart.result} Items)\r\n            </h2>\r\n              <div className=\"cart-list\">\r\n                {\r\n                  cart.cartItems ?\r\n                    cart.cartItems.map((product, index) => {\r\n                      return (\r\n                        <CartItem\r\n                          key={index}\r\n                          product={product}\r\n                        />\r\n                      )\r\n                    })\r\n                    : null\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-xl-4 col-lg-4\">\r\n            <div className=\"cart-total\">\r\n              <h4 className=\"cart-total__title\">\r\n                Cộng giỏ hàng\r\n              </h4>\r\n              <div className=\"cart-amount\">\r\n                <span className=\"cart-amount__title\">\r\n                  Tạm tính\r\n                </span>\r\n                <span className=\"cart-amount__price\">\r\n                  {cart.totalPrice && ConvertVnd(cart.totalPrice)}\r\n                </span>\r\n              </div>\r\n              <div className=\"cart-amount\">\r\n                <span className=\"cart-amount__title\">\r\n                  Phí ship\r\n                </span>\r\n                <span className=\"cart-amount__price\">\r\n                  {ConvertVnd(30000)}\r\n                </span>\r\n              </div>\r\n              <div className=\"cart-total__button\">\r\n                <Link to=\"/boxshop/thanh-toan\"\r\n                >\r\n                  TIẾN HÀNH THANH TOÁN\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CartPage\r\n"],"sourceRoot":""}